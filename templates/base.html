<!DOCTYPE html>
{% load static %}
{% load humanize %}
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="{% block meta_description %}Find your dream property with Algebra Enterprises - Your trusted real estate partner.{% endblock %}">
    <meta name="keywords" content="{% block meta_keywords %}real estate, property, rent, sale, algebra enterprises{% endblock %}">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="{{ request.build_absolute_uri }}">
    <meta property="og:title" content="{% block og_title %}Algebra Enterprises - Real Estate{% endblock %}">
    <meta property="og:description" content="{% block og_description %}Find your dream property with Algebra Enterprises - Your trusted real estate partner.{% endblock %}">
    <meta property="og:image" content="{% block og_image %}{{ request.scheme }}://{{ request.get_host }}{% static 'images/og-image.jpg' %}{% endblock %}">

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="{{ request.build_absolute_uri }}">
    <meta property="twitter:title" content="{% block twitter_title %}Algebra Enterprises - Real Estate{% endblock %}">
    <meta property="twitter:description" content="{% block twitter_description %}Find your dream property with Algebra Enterprises - Your trusted real estate partner.{% endblock %}">
    <meta property="twitter:image" content="{% block twitter_image %}{{ request.scheme }}://{{ request.get_host }}{% static 'images/twitter-image.jpg' %}{% endblock %}">

    <title>{% block title %}Algebra Enterprises - Real Estate{% endblock %}</title>

    <!-- Favicon -->
    <link rel="icon" type="image/png" href="{% static 'images/favicon.png' %}">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    
    <!-- Font Awesome -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    
    <!-- Custom CSS -->
    <link href="{% static 'css/style.css' %}" rel="stylesheet">
    
    <style>
        :root {
            --bs-primary: #ff0000;
            --bs-primary-rgb: 255, 0, 0;
        }
        
        .bg-primary {
            background-color: #ff0000 !important;
        }
        
        .text-primary {
            color: #ff0000 !important;
        }
        
        .btn-primary {
            background-color: #ff0000 !important;
            border-color: #ff0000 !important;
        }
        
        .btn-primary:hover {
            background-color: #cc0000 !important;
            border-color: #cc0000 !important;
        }
        
        .btn-outline-primary {
            color: #ff0000 !important;
            border-color: #ff0000 !important;
        }
        
        .btn-outline-primary:hover {
            background-color: #ff0000 !important;
            color: white !important;
        }
    </style>
    
    {% block extra_css %}{% endblock %}
</head>
<body>
    <!-- Combined Header -->
    <div class="header-wrapper" id="headerWrapper">
        <!-- Contact Header -->
        <div class="bg-primary text-white py-2">
            <div class="container">
                <div class="row align-items-center">
                    <div class="col-md-6">
                        <div class="d-flex align-items-center">
                            <a href="tel:+1234567890" class="text-white text-decoration-none me-4">
                                <i class="fas fa-phone-alt me-2"></i>+1 234 567 890
                            </a>
                            <a href="mailto:info@algebraenterprises.com" class="text-white text-decoration-none">
                                <i class="fas fa-envelope me-2"></i>info@algebraenterprises.com
                            </a>
                        </div>
                    </div>
                    <div class="col-md-6 text-end">
                        <div class="social-links">
                            <a href="#" class="text-white me-3"><i class="fab fa-facebook-f"></i></a>
                            <a href="#" class="text-white me-3"><i class="fab fa-twitter"></i></a>
                            <a href="#" class="text-white me-3"><i class="fab fa-instagram"></i></a>
                            <a href="#" class="text-white"><i class="fab fa-linkedin-in"></i></a>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Main Navigation -->
        <header class="navbar navbar-expand-lg navbar-light bg-light">
            <div class="container">
                <a class="navbar-brand" href="{% url 'home' %}">
                    <img src="{% static 'images/logo.png' %}" alt="Algebra Enterprises" height="40">
                </a>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarNav">
                    <ul class="navbar-nav me-auto">
                        <li class="nav-item">
                            <a class="nav-link" href="{% url 'properties:list' %}">Properties</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="{% url 'agents:list' %}">Agents</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="{% url 'pages:about' %}">About</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="{% url 'pages:contact' %}">Contact</a>
                        </li>
                    </ul>
                    <ul class="navbar-nav">
                        {% if user.is_authenticated %}
                            {% if user.is_agent %}
                                <li class="nav-item">
                                    <a class="nav-link" href="{% url 'dashboard:agent' %}">Dashboard</a>
                                </li>
                            {% elif user.is_admin %}
                                <li class="nav-item">
                                    <a class="nav-link" href="{% url 'dashboard:admin' %}">Admin</a>
                                </li>
                            {% else %}
                                <li class="nav-item">
                                    <a class="nav-link" href="{% url 'dashboard:customer' %}">My Account</a>
                                </li>
                            {% endif %}
                            <li class="nav-item">
                                <a class="nav-link" href="{% url 'account_logout' %}">Logout</a>
                            </li>
                        {% else %}
                            <li class="nav-item">
                                <a class="nav-link" href="{% url 'account_login' %}">Login</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="{% url 'account_signup' %}">Register</a>
                            </li>
                        {% endif %}
                    </ul>
                </div>
            </div>
        </header>
    </div>

    <!-- Main Content -->
    <main class="container mt-5 pt-5">
        {% if messages %}
            {% for message in messages %}
                <div class="alert alert-{{ message.tags }} alert-dismissible fade show" role="alert">
                    {{ message }}
                    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                </div>
            {% endfor %}
        {% endif %}

        {% block content %}{% endblock %}
    </main>

    <!-- Footer -->
    <footer class="bg-dark text-light mt-5">
        <div class="container py-5">
            <div class="row">
                <div class="col-md-4">
                    <h5>About Us</h5>
                    <p>Algebra Enterprises is your trusted partner in real estate, helping you find your dream property.</p>
                </div>
                <div class="col-md-4">
                    <h5>Quick Links</h5>
                    <ul class="list-unstyled">
                        <li><a href="{% url 'properties:list' %}" class="text-light">Properties</a></li>
                        <li><a href="{% url 'agents:list' %}" class="text-light">Agents</a></li>
                        <li><a href="{% url 'pages:about' %}" class="text-light">About</a></li>
                        <li><a href="{% url 'pages:contact' %}" class="text-light">Contact</a></li>
                    </ul>
                </div>
                <div class="col-md-4">
                    <h5>Contact Us</h5>
                    <ul class="list-unstyled">
                        <li><i class="fas fa-phone"></i> +1 234 567 890</li>
                        <li><i class="fas fa-envelope"></i> info@algebraenterprises.com</li>
                        <li><i class="fas fa-map-marker-alt"></i> 123 Real Estate St, City, Country</li>
                    </ul>
                    <div class="social-links mt-3">
                        <a href="#" class="text-light me-3"><i class="fab fa-facebook-f"></i></a>
                        <a href="#" class="text-light me-3"><i class="fab fa-twitter"></i></a>
                        <a href="#" class="text-light me-3"><i class="fab fa-instagram"></i></a>
                        <a href="#" class="text-light"><i class="fab fa-linkedin-in"></i></a>
                    </div>
                </div>
            </div>
        </div>
        <div class="bg-darker text-center py-3">
            <p class="mb-0">&copy; {% now "Y" %} Algebra Enterprises. All rights reserved.</p>
        </div>
    </footer>

    <!-- WhatsApp Button -->
    <a href="https://wa.me/1234567890" class="whatsapp-button" target="_blank">
        <i class="fab fa-whatsapp"></i>
    </a>

    <!-- Bootstrap Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    
    <!-- jQuery -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    
    <!-- Custom JavaScript -->
    <script src="{% static 'js/main.js' %}"></script>

    <!-- Header Scroll Behavior -->
    <script>
        let lastScrollTop = 0;
        const headerWrapper = document.getElementById('headerWrapper');
        
        window.addEventListener('scroll', function() {
            let scrollTop = window.pageYOffset || document.documentElement.scrollTop;
            
            if (scrollTop > lastScrollTop) {
                // Scrolling down
                headerWrapper.style.transform = 'translateY(-100%)';
            } else {
                // Scrolling up
                headerWrapper.style.transform = 'translateY(0)';
            }
            
            lastScrollTop = scrollTop;
        });
    </script>

    <style>
        .header-wrapper {
            position: fixed;
            width: 100%;
            top: 0;
            z-index: 1000;
            transition: transform 0.3s ease-in-out;
        }
        
        main {
            margin-top: 120px !important; /* Adjust based on combined header height */
        }
    </style>
    
    <!-- Tawk.to Chat Widget -->
    {% if TAWK_TO_PROPERTY_ID and TAWK_TO_WIDGET_ID %}
    <script type="text/javascript">
        var Tawk_API=Tawk_API||{}, Tawk_LoadStart=new Date();
        (function(){
            var s1=document.createElement("script"),s0=document.getElementsByTagName("script")[0];
            s1.async=true;
            s1.src='https://embed.tawk.to/{{ TAWK_TO_PROPERTY_ID }}/{{ TAWK_TO_WIDGET_ID }}';
            s1.charset='UTF-8';
            s1.setAttribute('crossorigin','*');
            s0.parentNode.insertBefore(s1,s0);
        })();
    </script>
    {% endif %}
    
    {% block extra_js %}{% endblock %}
</body>
</html> 